(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t,a){e.exports=a(240)},240:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fetchUser",(function(){return O})),a.d(n,"newUser",(function(){return w})),a.d(n,"sendMessage",(function(){return x})),a.d(n,"deleteMessage",(function(){return k})),a.d(n,"fetchMessages",(function(){return N}));a(113);var r=a(0),c=a.n(r),s=a(53),l=a.n(s),o=a(8),u=a(6),i=a(109),m=a(9),p=a(10),f=a(12),d=a(11),b=a(14),h=a(7),v=a(21),E=a.n(v),g=a(33),y=a(34),j=a.n(y),O=function(){return function(){var e=Object(g.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/login");case 2:a=e.sent,t({type:"fetch_user",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(){return function(){var e=Object(g.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/register");case 2:a=e.sent,t({type:"fetch_user",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(e,t){return function(){var a=Object(g.a)(E.a.mark((function a(n){var r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j.a.post("/create",e);case 2:r=a.sent,t.push("/create"),n({type:"fetch_user",payload:r.data});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},k=function(e,t){return function(){var a=Object(g.a)(E.a.mark((function a(n){var r;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j.a.post("/messages",e);case 2:r=a.sent,t.push("/messages"),n({type:"fetch_user",payload:r.data});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},N=function(){return function(){var e=Object(g.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/messages");case 2:a=e.sent,t({type:"fetch_messages",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("form",null,c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{for:"formGroupExampleInput"},"User Name:"),c.a.createElement("input",{type:"text",class:"form-control",id:"formGroupExampleInput",placeholder:"User Name"})),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{for:"formGroupExampleInput2"},"Password:"),c.a.createElement("input",{type:"text",class:"form-control",id:"formGroupExampleInput2",placeholder:"Paswword"}))),c.a.createElement("botton",{className:"btn btn-primary",type:"submit"},"Register"))}}]),a}(r.Component);var M=Object(o.b)((function(e){return{user:e.user}}),{newUser:w})(C),S=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("form",null,c.a.createElement("div",null,c.a.createElement("h2",{className:".text-primary"},"Login")),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{for:"formGroupExampleInput"},"User Name:"),c.a.createElement("input",{type:"text",class:"form-control",id:"formGroupExampleInput",placeholder:"Insert User Name"})),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{for:"formGroupExampleInput2"},"Password:"),c.a.createElement("input",{type:"text",class:"form-control",id:"formGroupExampleInput2",placeholder:"Insert Password"}))),c.a.createElement("botton",{className:"btn btn-primary",type:"submit"},"login"))}}]),a}(r.Component);var I=Object(o.b)((function(e){return{user:e.user}}),{fetchUser:O})(S),U=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"renderContent",value:function(){switch(this.props.username){case null:return;case!1:return[c.a.createElement("li",{key:"1",Component:I},c.a.createElement(b.b,{to:"/login"},"Login")),c.a.createElement("li",{key:"2",Component:M},c.a.createElement(b.b,{to:"/register"},"Register"))];default:return c.a.createElement("li",null,c.a.createElement(b.b,{to:"/"},"Logout"))}}},{key:"render",value:function(){return c.a.createElement("nav",null,c.a.createElement("div",{className:"nav-wrapper"},c.a.createElement(b.b,{to:this.props.username?"/messages":"/login",className:"left brand-logo"},"Emaily"),c.a.createElement("ul",{className:"right"},this.renderContent())))}}]),a}(r.Component);var _=Object(o.b)((function(e){return{auth:e.auth}}))(U),F=a(111),G=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"card darken-1",key:this.props.message._id},c.a.createElement("div",{className:"right"},c.a.createElement("button",{className:"btn btn-lg btn-outline-danger ml-4",onClick:function(){return e.props.deleteItem(e.props._id)}},"Delate")),c.a.createElement("div",{className:"card-content"},c.a.createElement("span",{className:"card-title"},this.props.message.title),c.a.createElement("p",null,this.props.body),c.a.createElement("p",{className:"right"},"Sent On:",new Date(this.props.message.dateSent).toLocaleDateString())))}}]),a}(c.a.Component),R=a(35),D=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).deleteMessage=function(t){var a=e.props.messages.filter((function(e,a){return t!==a}));return e.setState(Object(F.a)(a))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchMessages()}},{key:"renderMessages",value:function(){var e=this;return this.state.reverse().map((function(t){return c.a.createElement(G,{key:t._id,onDelete:e.deleteMessage,message:t})}))}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(R.Tabs,{className:"nav nav-tabs"},c.a.createElement(R.TabLink,{to:"tab1"}," Send messages "),c.a.createElement(R.TabLink,{to:"tab2"}," Recieve Messages "),c.a.createElement(R.TabContent,{for:"tab1"},this.renderMessages()),c.a.createElement(R.TabContent,{for:"tab2"},this.renderMessages())))}}]),a}(r.Component);var L=Object(o.b)((function(e){return{messages:e.messages}}),{fetchMessages:N})(D),T=function(){return c.a.createElement("div",null,c.a.createElement(L,null),c.a.createElement("div",{className:"fixed-action-btn"},c.a.createElement(b.b,{to:"/create",className:"btn-floating btn-large red"},c.a.createElement("i",{class:"material-icons"},"add"))))},A=a(241),P=a(40),B=a.n(P),z=a(242),Z=function(e){var t=e.input,a=e.label,n=e.meta,r=n.error,s=n.touched;return c.a.createElement("div",null,c.a.createElement("label",null,a),c.a.createElement("input",Object.assign({},t,{className:"form-control",style:{marginBottom:"5px"}})),c.a.createElement("div",{className:"red-text",style:{marginBottom:"20ox"}},s&&r))},J=/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,V=[{label:"Survey Title",name:"title"},{label:"Subject Line",name:"subject"},{label:"Email Body",name:"body"},{label:"Recipient list",name:"recipients"}],$=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"renderFields",value:function(){return B.a.map(V,(function(e){var t=e.label,a=e.name;return c.a.createElement(z.a,{key:a,component:Z,type:"text",label:t,name:a})}))}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:this.props.handleSubmit(this.props.onMessageSubmit)},this.renderFields(),c.a.createElement(b.b,{to:"/messages",className:"red btn-flat white-text"},"Cancel"),c.a.createElement("button",{type:"submit",className:"teal btn-flat right white-text"},"Next",c.a.createElement("i",{className:"material-icons right"},"done"))))}}]),a}(r.Component);var q=Object(A.a)({validate:function(e){var t={};return t.recipients=function(e){var t=e.split(",").map((function(e){return e.trim()})).filter((function(e){return!1===J.test(e)}));return t.length?"These emails are invalid: ".concat(t):null}(e.recipients||""),B.a.each(V,(function(a){var n=a.name;e[n]||(t[n]="You must provide a value")})),t},form:"messageForm",destroyOnUnmount:!1})($);var Y=Object(o.b)((function(e){return{formValues:e.form.MessageForm.values}}),n)(Object(h.e)((function(e){var t=e.onCancel,a=e.formValues,n=e.submitMessage,r=e.history,s=B.a.map(V,(function(e){var t=e.name,n=e.label;return c.a.createElement("div",{key:t},c.a.createElement("label",null,n),c.a.createElement("div",null,a[t]))}));return c.a.createElement("div",null,c.a.createElement("h5",null,"Please confirm your entries"),s,c.a.createElement("button",{className:"yellow darken-3 white-text btn-flat",onClick:t},"Back"),c.a.createElement("button",{onClick:function(){return n(a,r)},className:"green btn-flat right white-text"},"Send Message",c.a.createElement("i",{className:"material-icons right"},"email")))}))),H=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showFormReview:!1},e}return Object(p.a)(a,[{key:"renderContent",value:function(){var e=this;return this.state.showFormReview?c.a.createElement(Y,{onCancel:function(){return e.setState({showFormReview:!1})}}):c.a.createElement(q,{onMessageSubmit:function(){return e.setState({showFormReview:!0})}})}},{key:"render",value:function(){return c.a.createElement("div",null,this.renderContent())}}]),a}(r.Component),K=Object(A.a)({form:"MessageForm"})(H),Q=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(b.a,null,c.a.createElement("div",{className:"container"},c.a.createElement(_,null),c.a.createElement(h.a,{exact:!0,path:"/login",component:I}),c.a.createElement(h.a,{exact:!0,path:"/messages",component:T}),c.a.createElement(h.a,{exact:!0,path:"/create",component:K}))))}}]),a}(r.Component),W=Object(o.b)(null,n)(Q),X=a(243),ee=Object(u.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_user":return t.payload||!1;default:return e}},form:X.a,surveys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_messages":return t.payload;default:return e}}}),te=Object(u.d)(ee,{},Object(u.a)(i.a));l.a.render(c.a.createElement(o.a,{store:te},c.a.createElement(W,null)),document.querySelector("#root"))}},[[112,1,2]]]);
//# sourceMappingURL=main.d0ff3465.chunk.js.map